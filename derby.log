----------------------------------------------------------------
Thu Apr 23 10:49:25 MSK 2015:
Booting Derby version The Apache Software Foundation - Apache Derby - 10.11.1.1 - (1616546): instance a816c00e-014c-e509-c37f-0000087d0f98 
on database directory C:\Users\StudentDB\IdeaProjects\Bookstore\test_bookstore with class loader sun.misc.Launcher$AppClassLoader@6d06d69c 
Loaded from file:/C:/Users/StudentDB/.m2/repository/org/apache/derby/derby/10.11.1.1/derby-10.11.1.1.jar
java.vendor=Oracle Corporation
java.runtime.version=1.8.0_25-b18
user.dir=C:\Users\StudentDB\IdeaProjects\Bookstore
os.name=Windows 7
os.arch=amd64
os.version=6.1
derby.system.home=null
Database Class Loader started - derby.database.classpath=''
Thu Apr 23 10:49:29 MSK 2015 Thread[taskScheduler-1,5,main] (XID = 6190), (SESSIONID = 45), (DATABASE = C:\Users\StudentDB\IdeaProjects\Bookstore\test_bookstore), (DRDAID = null), Cleanup action starting
Thu Apr 23 10:49:29 MSK 2015 Thread[taskScheduler-1,5,main] (XID = 6190), (SESSIONID = 45), (DATABASE = C:\Users\StudentDB\IdeaProjects\Bookstore\test_bookstore), (DRDAID = null), Failed Statement is: SELECT * FROM BOOKSTORE_VIEW
ERROR 08000: Connection closed by unknown interrupt.
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)
	at org.apache.derby.iapi.util.InterruptStatus.setInterrupted(Unknown Source)
	at org.apache.derby.iapi.util.InterruptStatus.throwIf(Unknown Source)
	at org.apache.derby.impl.sql.execute.BasicNoPutResultSetImpl.checkCancellationFlag(Unknown Source)
	at org.apache.derby.impl.sql.execute.TableScanResultSet.getNextRowCore(Unknown Source)
	at org.apache.derby.impl.sql.execute.IndexRowToBaseRowResultSet.getNextRowCore(Unknown Source)
	at org.apache.derby.impl.sql.execute.NestedLoopJoinResultSet.getNextRowCore(Unknown Source)
	at org.apache.derby.impl.sql.execute.ProjectRestrictResultSet.getNextRowCore(Unknown Source)
	at org.apache.derby.impl.sql.execute.BasicNoPutResultSetImpl.getNextRow(Unknown Source)
	at org.apache.derby.impl.jdbc.EmbedResultSet.movePosition(Unknown Source)
	at org.apache.derby.impl.jdbc.EmbedResultSet.next(Unknown Source)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:92)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:60)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:460)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:405)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:471)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:481)
	at db.bookstore.dao.impl.BookstoreDaoImpl.getBooks(BookstoreDaoImpl.java:150)
	at db.bookstore.dao.impl.BookstoreDaoImpl.getAllBooks(BookstoreDaoImpl.java:108)
	at db.bookstore.services.impl.SerializationServiceImpl.dump(SerializationServiceImpl.java:41)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:201)
	at com.sun.proxy.$Proxy58.dump(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
---------------
Stack traces for all live threads:
Thread name=Signal Dispatcher id=4 priority=9 state=RUNNABLE isdaemon=true

Thread name=Reference Handler id=2 priority=10 state=WAITING isdaemon=true
	java.lang.Object.wait(Native Method)
	java.lang.Object.wait(Object.java:502)
	java.lang.ref.Reference$ReferenceHandler.run(Reference.java:157)

Thread name=taskScheduler-1 id=33 priority=5 state=RUNNABLE isdaemon=false
	java.lang.Thread.dumpThreads(Native Method)
	java.lang.Thread.getAllStackTraces(Thread.java:1603)
	org.apache.derby.iapi.error.ThreadDump.getStackDumpString(Unknown Source)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:483)
	org.apache.derby.iapi.error.ExceptionUtil$1.run(Unknown Source)
	java.security.AccessController.doPrivileged(Native Method)
	org.apache.derby.iapi.error.ExceptionUtil.dumpThreads(Unknown Source)
	org.apache.derby.iapi.services.context.ContextManager.cleanupOnError(Unknown Source)
	org.apache.derby.impl.jdbc.TransactionResourceImpl.cleanupOnError(Unknown Source)
	org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)
	org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)
	org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)
	org.apache.derby.impl.jdbc.EmbedResultSet.closeOnTransactionError(Unknown Source)
	org.apache.derby.impl.jdbc.EmbedResultSet.movePosition(Unknown Source)
	org.apache.derby.impl.jdbc.EmbedResultSet.next(Unknown Source)
	org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:92)
	org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:60)
	org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:460)
	org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:405)
	org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:471)
	org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:481)
	db.bookstore.dao.impl.BookstoreDaoImpl.getBooks(BookstoreDaoImpl.java:150)
	db.bookstore.dao.impl.BookstoreDaoImpl.getAllBooks(BookstoreDaoImpl.java:108)
	db.bookstore.services.impl.SerializationServiceImpl.dump(SerializationServiceImpl.java:41)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:483)
	org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:201)
	com.sun.proxy.$Proxy58.dump(Unknown Source)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:483)
	org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	java.lang.Thread.run(Thread.java:745)

Thread name=main id=1 priority=5 state=RUNNABLE isdaemon=false
	java.lang.Throwable.fillInStackTrace(Native Method)
	java.lang.Throwable.fillInStackTrace(Throwable.java:783)
	java.lang.Throwable.<init>(Throwable.java:287)
	java.lang.Exception.<init>(Exception.java:84)
	java.lang.ReflectiveOperationException.<init>(ReflectiveOperationException.java:75)
	java.lang.ClassNotFoundException.<init>(ClassNotFoundException.java:82)
	java.net.URLClassLoader$1.run(URLClassLoader.java:372)
	java.net.URLClassLoader$1.run(URLClassLoader.java:361)
	java.security.AccessController.doPrivileged(Native Method)
	java.net.URLClassLoader.findClass(URLClassLoader.java:360)
	java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	java.lang.ClassLoader.loadClass(ClassLoader.java:411)
	sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
	java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	org.springframework.util.ClassUtils.forName(ClassUtils.java:257)
	org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.registerDefaultFilters(ClassPathScanningCandidateComponentProvider.java:243)
	org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.<init>(ClassPathScanningCandidateComponentProvider.java:116)
	org.springframework.context.annotation.ClassPathBeanDefinitionScanner.<init>(ClassPathBeanDefinitionScanner.java:136)
	org.springframework.context.annotation.ClassPathBeanDefinitionScanner.<init>(ClassPathBeanDefinitionScanner.java:111)
	org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:77)
	org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265)
	org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:229)
	org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196)
	org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:165)
	org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:306)
	org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:239)
	org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:254)
	org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:94)
	org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:606)
	org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:462)
	org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:68)
	org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:86)
	org.springframework.test.context.DefaultTestContext.getApplicationContext(DefaultTestContext.java:72)
	org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:212)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:200)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:259)
	org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:261)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:219)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)
	org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)
	org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)
	org.junit.runners.Suite.runChild(Suite.java:128)
	org.junit.runners.Suite.runChild(Suite.java:27)
	org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)
	com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)
	com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:483)
	com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)

Thread name=derby.rawStoreDaemon id=20 priority=5 state=TIMED_WAITING isdaemon=true
	java.lang.Object.wait(Native Method)
	org.apache.derby.impl.services.daemon.BasicDaemon.rest(Unknown Source)
	org.apache.derby.impl.services.daemon.BasicDaemon.run(Unknown Source)
	java.lang.Thread.run(Thread.java:745)

Thread name=Finalizer id=3 priority=8 state=WAITING isdaemon=true
	java.lang.Object.wait(Native Method)
	java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:142)
	java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:158)
	java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)

Thread name=Timer-0 id=12 priority=5 state=WAITING isdaemon=true
	java.lang.Object.wait(Native Method)
	java.lang.Object.wait(Object.java:502)
	java.util.TimerThread.mainLoop(Timer.java:526)
	java.util.TimerThread.run(Timer.java:505)

Thread name=Attach Listener id=5 priority=5 state=RUNNABLE isdaemon=true

Thread name=Monitor Ctrl-Break id=10 priority=5 state=RUNNABLE isdaemon=true
	java.net.DualStackPlainSocketImpl.accept0(Native Method)
	java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)
	java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	java.net.ServerSocket.implAccept(ServerSocket.java:545)
	java.net.ServerSocket.accept(ServerSocket.java:513)
	com.intellij.rt.execution.application.AppMain$1.run(AppMain.java:90)
	java.lang.Thread.run(Thread.java:745)


---------------

Cleanup action completed
Thu Apr 23 10:49:29 MSK 2015 Thread[taskScheduler-1,5,main] (XID = 6202), (SESSIONID = 61), (DATABASE = C:\Users\StudentDB\IdeaProjects\Bookstore\test_bookstore), (DRDAID = null), Cleanup action starting
Thu Apr 23 10:49:29 MSK 2015 Thread[taskScheduler-1,5,main] (XID = 6202), (SESSIONID = 61), (DATABASE = C:\Users\StudentDB\IdeaProjects\Bookstore\test_bookstore), (DRDAID = null), Failed Statement is: SELECT * FROM BOOKSTORE_VIEW
ERROR 08000: Connection closed by unknown interrupt.
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)
	at org.apache.derby.iapi.util.InterruptStatus.setInterrupted(Unknown Source)
	at org.apache.derby.iapi.util.InterruptStatus.throwIf(Unknown Source)
	at org.apache.derby.impl.sql.execute.BasicNoPutResultSetImpl.checkCancellationFlag(Unknown Source)
	at org.apache.derby.impl.sql.execute.TableScanResultSet.getNextRowCore(Unknown Source)
	at org.apache.derby.impl.sql.execute.IndexRowToBaseRowResultSet.getNextRowCore(Unknown Source)
	at org.apache.derby.impl.sql.execute.NestedLoopJoinResultSet.getNextRowCore(Unknown Source)
	at org.apache.derby.impl.sql.execute.ProjectRestrictResultSet.getNextRowCore(Unknown Source)
	at org.apache.derby.impl.sql.execute.BasicNoPutResultSetImpl.getNextRow(Unknown Source)
	at org.apache.derby.impl.jdbc.EmbedResultSet.movePosition(Unknown Source)
	at org.apache.derby.impl.jdbc.EmbedResultSet.next(Unknown Source)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:92)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:60)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:460)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:405)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:471)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:481)
	at db.bookstore.dao.impl.BookstoreDaoImpl.getBooks(BookstoreDaoImpl.java:150)
	at db.bookstore.dao.impl.BookstoreDaoImpl.getAllBooks(BookstoreDaoImpl.java:108)
	at db.bookstore.services.impl.SerializationServiceImpl.dump(SerializationServiceImpl.java:41)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:201)
	at com.sun.proxy.$Proxy58.dump(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
---------------
Stack traces for all live threads:
Thread name=Signal Dispatcher id=4 priority=9 state=RUNNABLE isdaemon=true

Thread name=Reference Handler id=2 priority=10 state=WAITING isdaemon=true
	java.lang.Object.wait(Native Method)
	java.lang.Object.wait(Object.java:502)
	java.lang.ref.Reference$ReferenceHandler.run(Reference.java:157)

Thread name=taskScheduler-1 id=40 priority=5 state=RUNNABLE isdaemon=false
	java.lang.Thread.dumpThreads(Native Method)
	java.lang.Thread.getAllStackTraces(Thread.java:1603)
	org.apache.derby.iapi.error.ThreadDump.getStackDumpString(Unknown Source)
	sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:483)
	org.apache.derby.iapi.error.ExceptionUtil$1.run(Unknown Source)
	java.security.AccessController.doPrivileged(Native Method)
	org.apache.derby.iapi.error.ExceptionUtil.dumpThreads(Unknown Source)
	org.apache.derby.iapi.services.context.ContextManager.cleanupOnError(Unknown Source)
	org.apache.derby.impl.jdbc.TransactionResourceImpl.cleanupOnError(Unknown Source)
	org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)
	org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)
	org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)
	org.apache.derby.impl.jdbc.EmbedResultSet.closeOnTransactionError(Unknown Source)
	org.apache.derby.impl.jdbc.EmbedResultSet.movePosition(Unknown Source)
	org.apache.derby.impl.jdbc.EmbedResultSet.next(Unknown Source)
	org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:92)
	org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:60)
	org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:460)
	org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:405)
	org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:471)
	org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:481)
	db.bookstore.dao.impl.BookstoreDaoImpl.getBooks(BookstoreDaoImpl.java:150)
	db.bookstore.dao.impl.BookstoreDaoImpl.getAllBooks(BookstoreDaoImpl.java:108)
	db.bookstore.services.impl.SerializationServiceImpl.dump(SerializationServiceImpl.java:41)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:483)
	org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:201)
	com.sun.proxy.$Proxy58.dump(Unknown Source)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:483)
	org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	java.lang.Thread.run(Thread.java:745)

Thread name=main id=1 priority=5 state=RUNNABLE isdaemon=false
	java.util.regex.Pattern.compile(Pattern.java:1028)
	org.springframework.util.AntPathMatcher$AntPathStringMatcher.<init>(AntPathMatcher.java:542)
	org.springframework.util.AntPathMatcher.getStringMatcher(AntPathMatcher.java:349)
	org.springframework.util.AntPathMatcher.matchStrings(AntPathMatcher.java:326)
	org.springframework.util.AntPathMatcher.doMatch(AntPathMatcher.java:175)
	org.springframework.util.AntPathMatcher.matchStart(AntPathMatcher.java:145)
	org.springframework.core.io.support.PathMatchingResourcePatternResolver.doRetrieveMatchingFiles(PathMatchingResourcePatternResolver.java:696)
	org.springframework.core.io.support.PathMatchingResourcePatternResolver.retrieveMatchingFiles(PathMatchingResourcePatternResolver.java:669)
	org.springframework.core.io.support.PathMatchingResourcePatternResolver.doFindMatchingFileSystemResources(PathMatchingResourcePatternResolver.java:624)
	org.springframework.core.io.support.PathMatchingResourcePatternResolver.doFindPathMatchingFileResources(PathMatchingResourcePatternResolver.java:607)
	org.springframework.core.io.support.PathMatchingResourcePatternResolver.findPathMatchingResources(PathMatchingResourcePatternResolver.java:419)
	org.springframework.core.io.support.PathMatchingResourcePatternResolver.getResources(PathMatchingResourcePatternResolver.java:273)
	org.springframework.context.support.AbstractApplicationContext.getResources(AbstractApplicationContext.java:1159)
	org.springframework.context.support.GenericApplicationContext.getResources(GenericApplicationContext.java:223)
	org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:270)
	org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:248)
	org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:140)
	org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265)
	org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:229)
	org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196)
	org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:165)
	org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:306)
	org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:239)
	org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:254)
	org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:94)
	org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:606)
	org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:462)
	org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:68)
	org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:86)
	org.springframework.test.context.DefaultTestContext.getApplicationContext(DefaultTestContext.java:72)
	org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:212)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:200)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:259)
	org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:261)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:219)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)
	org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)
	org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)
	org.junit.runners.Suite.runChild(Suite.java:128)
	org.junit.runners.Suite.runChild(Suite.java:27)
	org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)
	com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)
	com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:483)
	com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)

Thread name=derby.rawStoreDaemon id=20 priority=5 state=TIMED_WAITING isdaemon=true
	java.lang.Object.wait(Native Method)
	org.apache.derby.impl.services.daemon.BasicDaemon.rest(Unknown Source)
	org.apache.derby.impl.services.daemon.BasicDaemon.run(Unknown Source)
	java.lang.Thread.run(Thread.java:745)

Thread name=Finalizer id=3 priority=8 state=WAITING isdaemon=true
	java.lang.Object.wait(Native Method)
	java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:142)
	java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:158)
	java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)

Thread name=Timer-0 id=12 priority=5 state=WAITING isdaemon=true
	java.lang.Object.wait(Native Method)
	java.lang.Object.wait(Object.java:502)
	java.util.TimerThread.mainLoop(Timer.java:526)
	java.util.TimerThread.run(Timer.java:505)

Thread name=Attach Listener id=5 priority=5 state=RUNNABLE isdaemon=true

Thread name=Monitor Ctrl-Break id=10 priority=5 state=RUNNABLE isdaemon=true
	java.net.DualStackPlainSocketImpl.accept0(Native Method)
	java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)
	java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	java.net.ServerSocket.implAccept(ServerSocket.java:545)
	java.net.ServerSocket.accept(ServerSocket.java:513)
	com.intellij.rt.execution.application.AppMain$1.run(AppMain.java:90)
	java.lang.Thread.run(Thread.java:745)


---------------

Cleanup action completed
Thu Apr 23 10:49:30 MSK 2015 Thread[taskScheduler-1,5,main] (XID = 6218), (SESSIONID = 75), (DATABASE = C:\Users\StudentDB\IdeaProjects\Bookstore\test_bookstore), (DRDAID = null), Cleanup action starting
Thu Apr 23 10:49:30 MSK 2015 Thread[taskScheduler-1,5,main] (XID = 6218), (SESSIONID = 75), (DATABASE = C:\Users\StudentDB\IdeaProjects\Bookstore\test_bookstore), (DRDAID = null), Failed Statement is: SELECT * FROM BOOKSTORE_VIEW
ERROR 08000: Connection closed by unknown interrupt.
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)
	at org.apache.derby.iapi.util.InterruptStatus.setInterrupted(Unknown Source)
	at org.apache.derby.iapi.util.InterruptStatus.throwIf(Unknown Source)
	at org.apache.derby.impl.sql.execute.BasicNoPutResultSetImpl.checkCancellationFlag(Unknown Source)
	at org.apache.derby.impl.sql.execute.TableScanResultSet.getNextRowCore(Unknown Source)
	at org.apache.derby.impl.sql.execute.NestedLoopJoinResultSet.getNextRowCore(Unknown Source)
	at org.apache.derby.impl.sql.execute.NestedLoopJoinResultSet.getNextRowCore(Unknown Source)
	at org.apache.derby.impl.sql.execute.ProjectRestrictResultSet.getNextRowCore(Unknown Source)
	at org.apache.derby.impl.sql.execute.BasicNoPutResultSetImpl.getNextRow(Unknown Source)
	at org.apache.derby.impl.jdbc.EmbedResultSet.movePosition(Unknown Source)
	at org.apache.derby.impl.jdbc.EmbedResultSet.next(Unknown Source)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:92)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:60)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:460)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:405)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:471)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:481)
	at db.bookstore.dao.impl.BookstoreDaoImpl.getBooks(BookstoreDaoImpl.java:150)
	at db.bookstore.dao.impl.BookstoreDaoImpl.getAllBooks(BookstoreDaoImpl.java:108)
	at db.bookstore.services.impl.SerializationServiceImpl.dump(SerializationServiceImpl.java:41)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:201)
	at com.sun.proxy.$Proxy58.dump(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
---------------
Stack traces for all live threads:
Thread name=Signal Dispatcher id=4 priority=9 state=RUNNABLE isdaemon=true

Thread name=Reference Handler id=2 priority=10 state=WAITING isdaemon=true
	java.lang.Object.wait(Native Method)
	java.lang.Object.wait(Object.java:502)
	java.lang.ref.Reference$ReferenceHandler.run(Reference.java:157)

Thread name=main id=1 priority=5 state=RUNNABLE isdaemon=false
	org.springframework.util.AntPathMatcher.tokenizePattern(AntPathMatcher.java:292)
	org.springframework.util.AntPathMatcher.doMatch(AntPathMatcher.java:161)
	org.springframework.util.AntPathMatcher.match(AntPathMatcher.java:140)
	org.springframework.core.io.support.PathMatchingResourcePatternResolver.doRetrieveMatchingFiles(PathMatchingResourcePatternResolver.java:707)
	org.springframework.core.io.support.PathMatchingResourcePatternResolver.retrieveMatchingFiles(PathMatchingResourcePatternResolver.java:669)
	org.springframework.core.io.support.PathMatchingResourcePatternResolver.doFindMatchingFileSystemResources(PathMatchingResourcePatternResolver.java:624)
	org.springframework.core.io.support.PathMatchingResourcePatternResolver.doFindPathMatchingFileResources(PathMatchingResourcePatternResolver.java:607)
	org.springframework.core.io.support.PathMatchingResourcePatternResolver.findPathMatchingResources(PathMatchingResourcePatternResolver.java:419)
	org.springframework.core.io.support.PathMatchingResourcePatternResolver.getResources(PathMatchingResourcePatternResolver.java:273)
	org.springframework.context.support.AbstractApplicationContext.getResources(AbstractApplicationContext.java:1159)
	org.springframework.context.support.GenericApplicationContext.getResources(GenericApplicationContext.java:223)
	org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:270)
	org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:248)
	org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:140)
	org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265)
	org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:229)
	org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196)
	org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:165)
	org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:306)
	org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:239)
	org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:254)
	org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:94)
	org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:606)
	org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:462)
	org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:68)
	org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:86)
	org.springframework.test.context.DefaultTestContext.getApplicationContext(DefaultTestContext.java:72)
	org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:212)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:200)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:259)
	org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:261)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:219)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)
	org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)
	org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)
	org.junit.runners.Suite.runChild(Suite.java:128)
	org.junit.runners.Suite.runChild(Suite.java:27)
	org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)
	com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)
	com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:483)
	com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)

Thread name=derby.rawStoreDaemon id=20 priority=5 state=TIMED_WAITING isdaemon=true
	java.lang.Object.wait(Native Method)
	org.apache.derby.impl.services.daemon.BasicDaemon.rest(Unknown Source)
	org.apache.derby.impl.services.daemon.BasicDaemon.run(Unknown Source)
	java.lang.Thread.run(Thread.java:745)

Thread name=Finalizer id=3 priority=8 state=WAITING isdaemon=true
	java.lang.Object.wait(Native Method)
	java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:142)
	java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:158)
	java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)

Thread name=taskScheduler-1 id=54 priority=5 state=RUNNABLE isdaemon=false
	java.lang.Thread.dumpThreads(Native Method)
	java.lang.Thread.getAllStackTraces(Thread.java:1603)
	org.apache.derby.iapi.error.ThreadDump.getStackDumpString(Unknown Source)
	sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:483)
	org.apache.derby.iapi.error.ExceptionUtil$1.run(Unknown Source)
	java.security.AccessController.doPrivileged(Native Method)
	org.apache.derby.iapi.error.ExceptionUtil.dumpThreads(Unknown Source)
	org.apache.derby.iapi.services.context.ContextManager.cleanupOnError(Unknown Source)
	org.apache.derby.impl.jdbc.TransactionResourceImpl.cleanupOnError(Unknown Source)
	org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)
	org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)
	org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)
	org.apache.derby.impl.jdbc.EmbedResultSet.closeOnTransactionError(Unknown Source)
	org.apache.derby.impl.jdbc.EmbedResultSet.movePosition(Unknown Source)
	org.apache.derby.impl.jdbc.EmbedResultSet.next(Unknown Source)
	org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:92)
	org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:60)
	org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:460)
	org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:405)
	org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:471)
	org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:481)
	db.bookstore.dao.impl.BookstoreDaoImpl.getBooks(BookstoreDaoImpl.java:150)
	db.bookstore.dao.impl.BookstoreDaoImpl.getAllBooks(BookstoreDaoImpl.java:108)
	db.bookstore.services.impl.SerializationServiceImpl.dump(SerializationServiceImpl.java:41)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:483)
	org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:201)
	com.sun.proxy.$Proxy58.dump(Unknown Source)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:483)
	org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	java.lang.Thread.run(Thread.java:745)

Thread name=Timer-0 id=12 priority=5 state=WAITING isdaemon=true
	java.lang.Object.wait(Native Method)
	java.lang.Object.wait(Object.java:502)
	java.util.TimerThread.mainLoop(Timer.java:526)
	java.util.TimerThread.run(Timer.java:505)

Thread name=Attach Listener id=5 priority=5 state=RUNNABLE isdaemon=true

Thread name=Monitor Ctrl-Break id=10 priority=5 state=RUNNABLE isdaemon=true
	java.net.DualStackPlainSocketImpl.accept0(Native Method)
	java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)
	java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	java.net.ServerSocket.implAccept(ServerSocket.java:545)
	java.net.ServerSocket.accept(ServerSocket.java:513)
	com.intellij.rt.execution.application.AppMain$1.run(AppMain.java:90)
	java.lang.Thread.run(Thread.java:745)


---------------

Cleanup action completed
